(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[40150],{40150:function(e,r,a){"use strict";a.r(r),a.d(r,{HeroMediaViewer:function(){return H}});var t=a(52676);a(45428);var i=a(75271),n=a(82187),s=a.n(n),o=a(82978),l=a(91862),d=a(89774),c=a(20647),h=a(37469),u=a(52327),m=a(78218),_=a(60105),v=a(90839),x=a(75279),p=a(77655),g=a(3010),f=a(50322),y=a(47427),w=a(42133),j=a(72180),b=a(27819),C=a(58832),N=a(72505),I=a(81944),A=a(63567),T=a(31372),k=a.n(T);function B(e){let{isActive:r,shareImageSrc:a}=e,{charity:i,charityOrganized:n,title:o,organizer:l}=(0,p.g)(),d=(0,y.q)({charity:i,charityOrganized:!!n,organizer:l}),c=l?.profileUrl,{openModal:h}=(0,g.o)(),u=(0,f.tp)();return(0,t.jsxs)("div",{className:s()(k().shareContainer,"hrt-disp-flex hrt-flex-dir-column hrt-align-center"),children:[(0,t.jsx)(b.P,{className:s()(k().shareCard,"hrt-rounded-4"),layout:"stacked",outline:"shadow",children:(0,t.jsxs)("button",{className:k().button,onClick:()=>{h("share",{source:"fundraiser hero"}),u("fundraiser hero card","Share")},tabIndex:r?0:-1,children:[(0,t.jsxs)("span",{className:"hrt-sr-only",children:[(0,A.t)("Share fundraiser")," - "]}),a&&(0,t.jsx)(N.j,{className:k().shareCardImage,src:a}),(0,t.jsxs)(C.O,{className:k().shareCardContent,children:[(0,t.jsx)("span",{className:"hrt-text-body-sm hrt-font-bold",children:o}),(0,t.jsxs)("div",{className:s()("hrt-text-default hrt-disp-flex hrt-align-center",k().shareCardByline),children:[(0,t.jsx)(w.q,{className:"hrt-mr-1",kind:c?"image":"default",size:"small",src:c||""}),(0,A.t)("by {{- organizerFullName}}",{organizerFullName:d})]})]})]})}),(0,t.jsxs)(I.k,{as:"button",className:"hrt-mt-3",layout:"inline",onClick:()=>{h("share",{source:"fundraiser hero"}),u("fundraiser hero","Share")},size:"small",tabIndex:r?0:-1,variant:"default-on-strong",children:[(0,t.jsx)(j.J,{className:"hrt-mr-1",name:"share",size:"small"}),(0,A.t)("Share")]})]})}var S=a(69166),O=a(57439),E=a(6862),D=a.n(E);function F(e){let{isActive:r}=e,{description:a}=(0,p.g)(),i=((0,O.F)(a)||"").replace(/<[^>]+>/g,"");return(0,t.jsxs)("div",{className:"hrt-disp-flex hrt-flex-dir-column hrt-align-center",children:[(0,t.jsx)("h2",{className:"hrt-align-self-start hrt-text-display-sm",children:(0,A.t)("Story")}),(0,t.jsx)("p",{className:s()(D().storyContainer,D().truncatedText,"hrt-text-body-md hrt-mb-0 hrt-max-width-full"),children:i}),(0,t.jsx)(S.k,{as:"button",className:"hrt-mt-3 hrt-align-self-start hero-story-read-more-button","data-tracking-id":"hero media viewer: read more",layout:"inline",onClick:()=>{let e=document.querySelector(".p-campaign-description");e&&(e.scrollIntoView({behavior:"smooth"}),document.dispatchEvent(new CustomEvent("expandCampaignDescription")))},size:"small",tabIndex:r?0:-1,variant:"default-on-strong",children:(0,A.t)("Read more")})]})}var V=a(8190),U=a.n(V);function M(e){let{animationDelay:r=100,animationDuration:a=800,className:n,convex:o=!1,initialRadius:l=160,maxScrollDistance:d=200,minRadius:c=0,shouldAnimateOnScroll:h=!0,targetRadius:u=100}=e,[m,_]=(0,i.useState)(l),[v,x]=(0,i.useState)(!1),[p,g]=(0,i.useState)(!1);(0,i.useEffect)(()=>{let e;let t=setTimeout(()=>{g(!0),_(u),e=setTimeout(()=>{x(!0),g(!1)},a)},r);return()=>{clearTimeout(t),clearTimeout(e)}},[u,r,a]),(0,i.useEffect)(()=>{if(!v)return;let e=()=>{h&&_(u-Math.min(window.scrollY/d,1)*(u-c))};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[v,u,c,d]);let f=o?`M-2 100 Q50 ${100-m} 106 106 L106 130 L-2 106 Z`:`M0 0 H100 V100 A60 ${m} 0 0 0 0 100 Z`;return(0,t.jsx)("svg",{"aria-hidden":"true",className:s()(U().curvedOverlay,n,{[U().convex]:o,[U().initialAnimating]:p}),"data-chromatic":"ignore","data-testid":"curved-overlay-svg",preserveAspectRatio:"none",viewBox:"0 0 100 100",children:(0,t.jsx)("path",{d:f})})}var z=a(1973),P=a.n(z);function L(e){let{collapsed:r,coverImageSrc:a,expanded:i,isActive:n,isMounted:o,objectPosition:l,toggleExpanded:c}=e,{showVariantA:h,showVariantB:_}=(0,d.F)();return h?(0,t.jsx)("div",{children:(0,t.jsxs)("picture",{className:s()("hrt-position-relative hrt-overflow-hidden",P().pictureContainer,P().pictureContainerWithTitleAbove),onClick:c,children:[(0,t.jsx)("source",{srcSet:a}),(0,t.jsx)("img",{alt:"",className:P().coverImage,loading:"lazy",src:a||"",...l?{style:{objectPosition:l}}:{}})]})}):_?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:s()("hrt-position-absolute hrt-text-on-overlay hrt-disp-flex hrt-flex-dir-column hrt-justify-between",P().textContainer),onClick:c,children:[(0,t.jsx)("div",{className:s()(P().bylineContainer,"hrt-px-3 hrt-pt-2 hrt-pb-6",{[P().fadeOut]:i,[P().fadeIn]:r}),children:(0,t.jsx)(u.c,{isActive:n,showShortenedCopyBylinesVariantB:_})}),(0,t.jsx)("div",{className:s()("hrt-px-3 hrt-pt-6",i?P().fadeOut:P().fadeIn,{[P().titleContainer]:o}),children:(0,t.jsx)(m.l,{className:s()(P().campaignTitle,"hrt-text-center hrt-px-4")})})]}),(0,t.jsxs)("picture",{className:s()("hrt-position-relative hrt-overflow-hidden",P().pictureContainer),children:[(0,t.jsx)("source",{srcSet:a}),(0,t.jsx)("img",{alt:"",className:P().coverImage,loading:"lazy",src:a||"",...l?{style:{objectPosition:l}}:{}})]})]}):null}var Y=a(6468),q=a(71669),W=a(8677),$=a(32434);function R(e){let{children:r,isExpanded:a,isActive:i,mediaId:n,mediaType:o,onToggleExpanded:l}=e;if(!(n&&(o===h.DDH.YOUTUBE||o===h.DDH.VIMEO)))return(0,t.jsx)(t.Fragment,{children:r});let d=(0,Y.uR)(o);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:s()({[P().blurredBackgroundYoutube]:a}),children:[a&&(0,t.jsx)("div",{className:s()(P().blurredBackgroundYoutubeColor,"hrt-position-absolute")}),r]}),a?(0,t.jsx)($.n,{autoPlay:!0,className:s()("hrt-position-absolute",P().video),mediaId:n,mediaType:d}):(0,t.jsx)(W.C,{"aria-label":"Play video",as:"button",className:P().youtube,onClick:l,tabIndex:i&&!a?0:-1,children:(0,t.jsx)(q.V,{name:"youtube-color",size:"xlarge"})})]})}function H(e){let{mainPhotoFormatted:r,isVideo:a,mediaId:n,mediaType:p,objectPosition:g}=e,f=(0,i.useRef)(null),{galleryImages:y}=function(){let{query:{campaignUrl:e}}=(0,c.useRouter)(),r=`${e}`,{data:a,loading:t,error:n}=(0,h._IF)({variables:{slug:r,first:10,includeAdditionalPhotoData:!0},fetchPolicy:"cache-first"}),s=(0,i.useMemo)(()=>a?.fundraiser?.updatesOffsetPagination?.edges?.map(e=>e?.node?.photos).flat()||[],[a?.fundraiser?.updatesOffsetPagination?.edges]),o={scaled:{...a?.fundraiser?.photo?.scaled,sixteenByNine720:a?.fundraiser?.photo?.scaled?.sixteenByNine270||""},id:a?.fundraiser?.id,mediaId:a?.fundraiser?.mediaId||null,mediaType:a?.fundraiser?.mediaType,__typename:"Photo",url:a?.fundraiser?.photo?.url},l=(0,i.useMemo)(()=>(a?.fundraiser?.galleryImages?.edges||[]).filter(e=>!!e).map(e=>{let{node:r}=e;return{...r}}),[a]),d=l.length>1?[...l.slice(1),l[0]]:l,u=[...1===d.length&&o.mediaType!==h.DDH.YOUTUBE&&o.mediaType!==h.DDH.VIMEO?[]:d,...s].filter((e,r,a)=>r===a.findIndex(r=>r.id===e.id));return{count:u.length,error:n,galleryImages:u,loading:t}}(),{showVariantA:w,showVariantB:j}=(0,d.F)(),[b,C]=(0,i.useState)(0),[N,I]=(0,i.useState)(!1),[A,T]=(0,i.useState)(!1),{hasMounted:k}=(0,x.s)(),S=a?r.scaled?.sixteenByNine720:r.scaled?.fourByThree1200,O=r?.scaled?.threeByTwo640,E=s()(P().swiperSlide,{[P().titleOverlayImage]:j}),D=()=>{N&&T(!0),A&&T(!1),I(!N)},V=(0,i.useRef)(null);(0,i.useEffect)(()=>{let e=document.querySelector(".hero-story-read-more-button");e&&(V.current=e)},[]);let U=1,z=y.length>0,Y=y.length>1?3:2,q=[(0,t.jsx)(l.o5,{className:E,children:(0,t.jsx)(v.I,{className:"hrt-width-full",trackingId:`hero_slide_${U}`,children:(0,t.jsx)(R,{isActive:0===b,isExpanded:N,mediaId:n,mediaType:p,onToggleExpanded:D,children:(0,t.jsx)(L,{collapsed:A,coverImageSrc:S||"",expanded:N,isActive:0===b,isMounted:k,objectPosition:g,toggleExpanded:D})})})},"title-slide")];y.forEach((e,r)=>{U++,1===r&&U++;let a=b===U-1,i=b===U-2,n=b===U;q.push((0,t.jsx)(l.o5,{className:E,children:(0,t.jsxs)(v.I,{className:"hrt-width-full",trackingId:`hero_slide_${U}`,children:[e?.scaled?.sixteenByNine720&&(a||i||n)&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:s()(P().blurredBackground,"hrt-position-absolute"),style:{backgroundImage:`url(${e?.scaled?.sixteenByNine720||""})`}}),(0,t.jsx)("div",{className:s()(P().blurredBackgroundColor,"hrt-position-absolute")})]}),(0,t.jsx)(R,{isActive:b===U-1,isExpanded:N,mediaId:e?.mediaId||"",mediaType:e?.mediaType,onToggleExpanded:D,children:e.mediaId&&(e.mediaType===h.DDH.YOUTUBE||e.mediaType===h.DDH.VIMEO)?(0,t.jsxs)("picture",{className:s()("hrt-position-relative hrt-overflow-hidden",P().pictureContainer),children:[(0,t.jsx)("source",{srcSet:e?.scaled?.sixteenByNine720||""}),(0,t.jsx)("img",{alt:"",className:P().coverImage,loading:"lazy",src:e?.url||""})]}):(0,t.jsx)("img",{alt:"",className:P().image,loading:"lazy",src:e?.url||""})})]})},`media-${U}`))}),q.splice(2,0,(0,t.jsx)(l.o5,{className:s()(E,P().storySlide,"hrt-surface-brand-strongest hrt-text-on-strong hrt-px-3"),children:(0,t.jsx)(v.I,{className:"hrt-max-width-full",trackingId:`hero_slide_${Y}_story`,children:(0,t.jsx)(F,{isActive:z?2===b:1===b})})},"story-slide")),z&&U++;let W=q.length;return(q.push((0,t.jsx)(l.o5,{className:s()("hrt-surface-brand-strongest",E),children:(0,t.jsx)(v.I,{className:"hrt-width-full",trackingId:`hero_slide_${U+1}_share`,children:(0,t.jsx)(B,{isActive:b===W,shareImageSrc:O||""})})},"share-slide")),(0,i.useEffect)(()=>{document.querySelectorAll(`.${P().swiperSlide}`).forEach((e,r)=>{let a=e.querySelector("iframe");a&&(a.tabIndex=r===b?0:-1)})},[b,N]),(0,i.useEffect)(()=>{f.current&&(f.current.slideTo(0,0),C(0),I(!1),T(!1))},[r]),k)?(0,t.jsxs)("div",{className:s()(P().mediaViewerWrapper,{[P().fadeIn]:k}),children:[w&&(0,t.jsxs)("div",{className:s()("hrt-disp-flex hrt-flex-dir-column hrt-align-center hrt-text-center hrt-mb-2 hrt-mt-1",P().titleAboveImage),children:[(0,t.jsx)(m.l,{className:s()(P().campaignTitle,"hrt-mb-1 hrt-px-4",{[P().variantATitleAnimation]:k})}),(0,t.jsx)(u.c,{className:s()("hrt-px-3",{[P().variantABylineAnimation]:k}),showShortenedCopyBylinesVariantA:w}),(0,t.jsx)(M,{})]}),(0,t.jsxs)("div",{className:P().mediaViewer,children:[(0,t.jsx)(l.tq,{className:P().swiperContainer,keyboard:!0,loop:!1,modules:[o.N1],onSlideChange:e=>{C(e.realIndex)},onSlideChangeTransitionEnd:()=>{_.C?.recordDwellTimes(),b>0&&N&&D()},onSwiper:e=>{f.current=e},children:q}),j&&(0,t.jsx)("div",{className:P().curvedOverlayContainer,children:(0,t.jsx)(M,{convex:!0,shouldAnimateOnScroll:!1})}),(0,t.jsx)("div",{className:s()(P().pagination,"hrt-disp-flex hrt-align-center hrt-justify-center hrt-position-absolute",{[P().paginationWithTitleOverlay]:j}),children:(()=>{let e=q.length,r=Math.min(e,30);return Array.from({length:r}).map((a,i)=>{let n=i===b,o=e>=10,l=Math.abs(i-b)>1;return(0,t.jsx)("div",{className:s()(P().paginationDot,{[P().active]:n,[P().secondToLast]:(o&&1===i||o&&i===r-2)&&!n&&l,[P().last]:(o&&0===i||o&&i===r-1)&&!n&&l}),onClick:()=>f?.current?.slideTo(i)},i)})})()})]})]}):null}},8190:function(e){e.exports={curvedOverlay:"animated-curved-overlay_curvedOverlay__A9SJx",convex:"animated-curved-overlay_convex__RocQe",initialAnimating:"animated-curved-overlay_initialAnimating__2jGux"}},1973:function(e){e.exports={pictureContainer:"hero-media-viewer_pictureContainer__cvkr6",pictureContainerWithTitleAbove:"hero-media-viewer_pictureContainerWithTitleAbove__fernJ",coverImage:"hero-media-viewer_coverImage__bWghh",scaleIn:"hero-media-viewer_scaleIn__mJCKN",blurredBackground:"hero-media-viewer_blurredBackground__e15EI",blurredBackgroundColor:"hero-media-viewer_blurredBackgroundColor__yMXPe",textContainer:"hero-media-viewer_textContainer__ziF3O",bylineContainer:"hero-media-viewer_bylineContainer__NpTkY",fadeOut:"hero-media-viewer_fadeOut__fcx9_",textFadeUpAndOut:"hero-media-viewer_textFadeUpAndOut___2PJ0",fadeIn:"hero-media-viewer_fadeIn__JRO3_",textFadeDownAndIn:"hero-media-viewer_textFadeDownAndIn__Kq7DB",titleContainer:"hero-media-viewer_titleContainer__PlGIT",textFadeDownAndOut:"hero-media-viewer_textFadeDownAndOut__6T6cy",textFadeUpAndIn:"hero-media-viewer_textFadeUpAndIn__ceit1",mediaViewer:"hero-media-viewer_mediaViewer__5464G",mediaViewerWrapper:"hero-media-viewer_mediaViewerWrapper__MQ1x0",swiperContainer:"hero-media-viewer_swiperContainer__P2cSz",swiperSlide:"hero-media-viewer_swiperSlide__wXCqz",campaignTitle:"hero-media-viewer_campaignTitle__B21XU",titleAboveImage:"hero-media-viewer_titleAboveImage__PsrOK",image:"hero-media-viewer_image__2je_5",pagination:"hero-media-viewer_pagination__LbC_B",paginationWithTitleOverlay:"hero-media-viewer_paginationWithTitleOverlay__2pdMo",paginationDot:"hero-media-viewer_paginationDot__VO16u",active:"hero-media-viewer_active__kso4D",secondToLast:"hero-media-viewer_secondToLast__S0qc9",last:"hero-media-viewer_last__d41cu",video:"hero-media-viewer_video__0jcJa",youtube:"hero-media-viewer_youtube__vuszz",blurredBackgroundYoutube:"hero-media-viewer_blurredBackgroundYoutube__AyEK2",blurredBackgroundYoutubeColor:"hero-media-viewer_blurredBackgroundYoutubeColor__L_o95",curvedOverlayContainer:"hero-media-viewer_curvedOverlayContainer__QFY48",variantATitleAnimation:"hero-media-viewer_variantATitleAnimation__QFyn7",titleFadeUpAndInVariantA:"hero-media-viewer_titleFadeUpAndInVariantA__UvONZ",variantABylineAnimation:"hero-media-viewer_variantABylineAnimation__7Aq3p",bylineFadeUpAndInVariantA:"hero-media-viewer_bylineFadeUpAndInVariantA__aLUfQ"}},31372:function(e){e.exports={button:"hero-share-slide-content_button__AinvV",shareCard:"hero-share-slide-content_shareCard__2k7RL",shareCardImage:"hero-share-slide-content_shareCardImage__doOMK",shareCardContent:"hero-share-slide-content_shareCardContent__jlLSC",shareCardByline:"hero-share-slide-content_shareCardByline__VuXL6"}},6862:function(e){e.exports={storyContainer:"hero-story-slide-content_storyContainer__dJSjZ",truncatedText:"hero-story-slide-content_truncatedText__WhY4M"}}}]);
//# sourceMappingURL=40150.9180044b1342160c.js.map