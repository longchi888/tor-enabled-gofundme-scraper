"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[25860],{75116:function(e,n,t){t.d(n,{x:function(){return r.x}});var r=t(18364)},25860:function(e,n,t){t.r(n),t.d(n,{__N_SSP:function(){return k},default:function(){return b}});var r=t(52676),a=t(75271),i=t(65477),o=t(75116),c=t(40625),s=t(63567),u=t(37802),l=t(76935),f=t(94698),m=t(4223),d=t(43108),g=t(83314),h=t.n(g),p=t(83955);let v=()=>(0,r.jsxs)("span",{children:[(0,s.t)("Your email address verification was unsuccessful. Please try again or"),(0,r.jsx)(r.Fragment,{children:"\xa0"}),(0,r.jsx)(h(),{href:l.Sc,legacyBehavior:!0,children:(0,s.t)("contact support.")})]}),y=()=>(0,r.jsx)("span",{children:(0,s.t)("Your email address has been verified. Please sign in to continue.")}),_=()=>{let{urlQueryParams:e,setAlert:n}=(0,f.Uv)();(0,a.useEffect)(()=>{e?.verification_flag===l.nl.failure?(p.mt.push({type:"mp_page_view",viewId:"banner_confirm_email_unsuccessful",completionType:"unauthenticated"}),n({type:"error",message:(0,r.jsx)(v,{})})):e?.verification_flag===l.nl.success&&(p.mt.push({type:"mp_page_view",viewId:"banner_confirm_email_success",completionType:"unauthenticated"}),n({type:"success",message:(0,r.jsx)(y,{})}))},[e])};var N=t(89151),w=t(98554),E=t(11584),S=t(90802);function b(e){let{referrerUrl:n,isInEU:t,descopeVariant:i,locale:g}=e,{setFlow:h,setReferrerUrl:p,setIsInEU:v,urlQueryParams:y}=(0,f.Uv)(),E=(0,w.x)(),{campaign:b,error:k}=(0,d.y)(),D=(0,N.W)(),x=(0,m.x)(),[R,U]=(0,a.useState)("string"==typeof y?.campaignUrl),[$,j]=(0,a.useState)(D===l.vH.createBeneficiary);return(_(),(0,a.useEffect)(()=>{p(n),v(t),h("in")},[]),(0,a.useEffect)(()=>{(b||k)&&U(!1)},[b,k]),(0,a.useEffect)(()=>{D===l.vH.createBeneficiary&&""!==x.email&&j(!1)},[x]),R||$)?(0,r.jsx)("div",{className:"hrt-disp-flex hrt-align-center hrt-width-full hrt-justify-center hrt-pt-3 hrt-pb-8",children:(0,r.jsx)(o.x,{color:"black",size:"large"})}):(0,r.jsx)(c.q,{children:(0,r.jsx)(u.m,{client:{isFacebookEnabled:i?.variables?.facebook_enabled||!1,adaptiveMFA:i?.variables?.adaptive_mfa_enabled||!1},coFirstName:b?.user_first_name,descopeFlowId:i?.variables?.susi_flow||"auth-flow-google",fundName:b?.fund_name,initialFormValue:x,isEmailDisabled:!!x.email&&(l.vH.createBeneficiary===D||l.vH.postDonate===D||l.vH.postDonateSavedPayment===D),loadingColor:"black",locale:g,onError:()=>void 0,onSuccess:()=>(0,S.a)(E,y),path:"sign-in",referrer:D,successMessage:i?.variables?.adaptive_mfa_enabled?(0,s.t)("Success! Youâ€™re in"):(0,s.t)("Your number is verified")})})}b.getLayout=function(e){return(0,r.jsx)(i.d,{children:(0,r.jsx)(E.y,{page:"sign-in",children:e})})};var k=!0},36850:function(e,n,t){t.d(n,{uX:function(){return s},Yh:function(){return f},qw:function(){return h}});var r=t(65477),a=t(488),i=t(65569);let o={hasCheckoutData:!1,guestCheckout:{email:"",firstName:"",hasSavedPaymentMethod:!1,lastName:""}},c="guestCheckout";function s(){let{getGuestCheckoutDataFallback:e}=(0,r.j)(),n=(0,i.St)(c);if(!n)return e();try{let e=JSON.parse(n);return{hasCheckoutData:!0,guestCheckout:{email:e.email,firstName:e.firstName,lastName:e.lastName,hasSavedPaymentMethod:e.hasSavedPaymentMethod}}}catch(e){return(0,a.yv)()||console.error("Error parsing guest checkout session storage data to JSON",e),o}}var u=t(82630),l=t(35199);function f(){let{checkoutEntity:{url:e}}=(0,u.sE)(),{guestCheckout:{hasSavedPaymentMethod:n}}=s(),t=function(e){let n={referrer:"post_donate",redirect:e.redirect},t=new URLSearchParams(window.location.search),r=new URLSearchParams({...n,...Object.fromEntries(t)});return e.hasSavedPayment&&r.append("saved_payment","1"),r.toString()}({redirect:e,hasSavedPayment:n});return{guestCheckoutSignUpUrl:`${(0,l.ZR)(`/sign-up?${t}`)}`}}var m=t(62950),d=t(24352),g=t(12797);function h(){let{isLoggedIn:e}=(0,d.jY)(),{setGuestCheckoutDataFallback:n}=(0,r.j)();return{storeGuestCheckout:function(t){var r;let a={email:t.email??"",firstName:t.firstName??"",hasSavedPaymentMethod:!!((r={paymentMethod:t.paymentMethod,saveCard:t.saveCard}).paymentMethod===g.A6.CREDIT_CARD&&r.saveCard),key:(0,m.Z)(),lastName:t.lastName??""};e||(0,i.D9)(c,JSON.stringify({...a,key:(0,m.Z)()}))||n({hasCheckoutData:!0,guestCheckout:a})}}}},35199:function(e,n,t){t.d(n,{Hj:function(){return a},qz:function(){return u},yx:function(){return c},N:function(){return s},fG:function(){return f},sZ:function(){return m},ZR:function(){return g},tI:function(){return h.t}});var r,a,i=t(32521),o=t.n(i);function c(e){if(!e)return e;let n=e.replace(/\D/g,"").trim(),t=n.replace(/\s/g,""),r=o().number(n);if(!r||!r.card||!r.card.gaps)return t;let a=r.card.lengths&&r.card.lengths[0]?r.card.lengths[0]:void 0,i=r.card.gaps;if(a&&i&&e.length>i[0]){let n="^";if(i.forEach((e,r)=>{t.length>e&&(n+=`(\\d){0,${r>0?e-i[r-1]:e}} `)}),t.length>i[i.length-1]&&(n+=`(\\d){0,${a-i[i.length-1]}}$`),e.match(new RegExp(n)))return e}let c=[[]],s=0,u=0,l=0;return t.slice(0,a).split("").forEach((e,n)=>{i[l]&&n>=i[l]&&(u=0,s++,l++,c[s]=[]),c[s][u++]=e}),c.map(e=>e.join("")).join(" ").trim()}function s(e){if(!e||e.match(/^(\d){0,2}\/(\d){1,2}$/))return e;let n=e.replace(/[^0-9\/]/g,""),t=n.match(/.{1,2}\/?/g);return t?t.length>1?t[0].replace(/\//g,"")+"/"+t[1].replace(/\//g,"").slice(0,2):t[0].indexOf("/")>=0?t[0].replace(/\//g,"")+"/":t[0].trim():n.trim()}function u(e){return e?e.slice(0,4).replace(/\D/g,"").trim():e}function l(e){return e.replace(/\D/g,"")}function f(e){return l(e).slice(0,6)}function m(e){return l(e).slice(-4)}var d=t(488);function g(e){return`${d.config.environment.canonicalDomain}${e}`}(r=a||(a={}))[r.OK=200]="OK",r[r.MOVED_PERMANENTLY=301]="MOVED_PERMANENTLY",r[r.NOT_FOUND=404]="NOT_FOUND",r[r.INTERNAL_SERVER_ERROR=500]="INTERNAL_SERVER_ERROR";var h=t(77855)},77855:function(e,n,t){t.d(n,{t:function(){return r}});function r(e){return!!e&&"function"==typeof e.then}},65569:function(e,n,t){t.d(n,{St:function(){return i},lD:function(){return c},D9:function(){return o}});var r=t(488),a=t(29721);function i(e){try{return sessionStorage.getItem(e)}catch(n){return!(0,r.yv)()&&(0,a.ML)()&&console.log(`${e} cannot be retrieved from session storage`,n),null}}function o(e,n){try{return sessionStorage.setItem(e,n),!0}catch(n){return!(0,r.yv)()&&(0,a.ML)()&&console.log(`${e} cannot be set in session storage`,n),!1}}function c(e){try{return sessionStorage.removeItem(e),!0}catch(n){return!(0,r.yv)()&&(0,a.ML)()&&console.log(`${e} cannot be removed from session storage`,n),!1}}},4223:function(e,n,t){t.d(n,{x:function(){return c}});var r=t(36850),a=t(94698),i=t(53032),o=t(56091);function c(){let{firstName:e,lastName:n,email:t}=function(){let{urlQueryParams:e}=(0,a.Uv)(),n="string"==typeof e?.beneficiary&&e.beneficiary,{data:t}=(0,i.Z)(n||null,o.LK);return t}()||{},{guestCheckout:c}=(0,r.uX)(),{email:s,firstName:u,lastName:l}=c,f=function(){let{urlQueryParams:e}=(0,a.Uv)(),n="string"==typeof e?.teamInvite&&e.teamInvite,{data:t}=(0,i.Z)(n||null,o.Jd);return t}(),{urlQueryParams:m}=(0,a.Uv)(),d="string"==typeof m?.email?m.email:"";return{email:s||t||f||d||"",firstName:u||e||"",lastName:l||n||""}}},43108:function(e,n,t){t.d(n,{y:function(){return l}});var r=t(53032),a=t(488),i=t(628);let o=`${a.config.environment.nativeGatewayDomain}/feed`;async function c(e){let n=await i.eN.get(`${o}/${e}/campaign`);return n?.data}var s=t(94698);let u=async e=>{try{let n=await c(e);if(n?.references?.campaign){let{campaign:e}=n.references;return{id:e.id,campaign_image_url:e.campaign_image_url,user_first_name:e.user_first_name,user_last_name:e.user_last_name,fund_name:e.fund_name}}throw Error(`Feed service returned an invalid response for campaign for ${e}`)}catch(e){throw console.error(e),e}},l=()=>{let{urlQueryParams:e}=(0,s.Uv)(),n="string"==typeof e?.campaignUrl?e.campaignUrl:void 0,{data:t,error:a}=(0,r.Z)(n||null,u);return{campaign:t,error:a}}},89151:function(e,n,t){t.d(n,{W:function(){return i}});var r=t(76935),a=t(94698);function i(){let{urlQueryParams:e}=(0,a.Uv)(),n="string"==typeof e?.referrer?e.referrer:r.vH.homepage;return n===r.vH.postDonate&&"1"===("string"==typeof e?.saved_payment?e.saved_payment:void 0)&&(n=r.vH.postDonateSavedPayment),n}},98554:function(e,n,t){t.d(n,{x:function(){return c}});var r=t(488),a=t(76935),i=t(94698);let o=e=>{let{host:n,href:t,protocol:i}=e;return i.includes("https")&&(n===window.location.host||n===`www.${window.location.host}`||n===`api.${r.config.environment.domain}`||n===`partner.${r.config.environment.domain}`||n===`heart.${r.config.environment.domain}`||n===`happiness.${r.config.environment.domain}`)?t:a.kU.homepage},c=()=>{let{urlQueryParams:e,referrerUrl:n}=(0,i.Uv)(),t=Object.values(a.Ze);try{let i=n||null,c=n?.split("?")[0];t.filter(e=>c?.endsWith(e)).length&&(i=a.kU.homepage);let s="string"==typeof e?.redirect?e.redirect:null,u=decodeURI(s||i||a.kU.homepage),l=new URL(u,window.location.origin);if("partner"===s)return`https://partner.${r.config.environment.domain}`;if("happiness"===s)return`https://happiness.${r.config.environment.domain}`;if("media"===s)return`${r.config.environment.nonCanonicalDomain}/create/fundraiser`;return o(l)}catch(e){console.log(e)}return a.kU.homepage}},90802:function(e,n,t){t.d(n,{a:function(){return i},f:function(){return a}});var r=t(39956);let a=e=>{window.location.href=e},i=(e,n)=>{let{redirect:t,...i}=n||{},o=(0,r.Dp)(i),c=e;""!==o.toString()&&(c+=(e.includes("?")?"&":"?")+o.toString()),a(c)}}}]);
//# sourceMappingURL=25860-b7dc71d7f3d8f353.js.map