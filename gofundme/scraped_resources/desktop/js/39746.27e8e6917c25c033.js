"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[39746],{78795:function(e,t,l){l.d(t,{b:function(){return s}});var r=l(75271),n=l(82187),a=l.n(n);function s(e){let{background:t,children:l,className:n,dataViewId:s,isAnimating:i,isOpen:o,sandOverlay:c}=e,d=a()(n,"a-overlay",{"a-overlay--animating":i,"a-overlay--open":o,"a-overlay--bg-sand":c||"sand"===t,"a-overlay--bg-gray":"gray"===t});return r.createElement("div",{className:d,"data-view-id":s},l)}s.displayName="Overlay"},50647:function(e,t,l){l.d(t,{x:function(){return C}});var r=l(75271),n=l(82187),a=l.n(n),s=l(53280),i=Object.defineProperty,o=(e,t,l)=>t in e?i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[t]=l,c=(e,t,l)=>o(e,"symbol"!=typeof t?t+"":t,l),d=new Map,u=new WeakMap,h=0,m=void 0,p=class extends r.Component{constructor(e){super(e),c(this,"node",null),c(this,"_unobserveCb",null),c(this,"handleNode",e=>{!this.node||(this.unobserve(),e||this.props.triggerOnce||this.props.skip||this.setState({inView:!!this.props.initialInView,entry:void 0})),this.node=e||null,this.observeNode()}),c(this,"handleChange",(e,t)=>{e&&this.props.triggerOnce&&this.unobserve(),"function"!=typeof this.props.children||this.setState({inView:e,entry:t}),this.props.onChange&&this.props.onChange(e,t)}),this.state={inView:!!e.initialInView,entry:void 0}}componentDidMount(){this.unobserve(),this.observeNode()}componentDidUpdate(e){(e.rootMargin!==this.props.rootMargin||e.root!==this.props.root||e.threshold!==this.props.threshold||e.skip!==this.props.skip||e.trackVisibility!==this.props.trackVisibility||e.delay!==this.props.delay)&&(this.unobserve(),this.observeNode())}componentWillUnmount(){this.unobserve()}observeNode(){if(!this.node||this.props.skip)return;let{threshold:e,root:t,rootMargin:l,trackVisibility:r,delay:n,fallbackInView:a}=this.props;this._unobserveCb=function(e,t,l={},r=m){if(void 0===window.IntersectionObserver&&void 0!==r){let n=e.getBoundingClientRect();return t(r,{isIntersecting:r,target:e,intersectionRatio:"number"==typeof l.threshold?l.threshold:0,time:0,boundingClientRect:n,intersectionRect:n,rootBounds:n}),()=>{}}let{id:n,observer:a,elements:s}=function(e){let t=Object.keys(e).sort().filter(t=>void 0!==e[t]).map(t=>{var l;return`${t}_${"root"===t?(l=e.root)?(u.has(l)||(h+=1,u.set(l,h.toString())),u.get(l)):"0":e[t]}`}).toString(),l=d.get(t);if(!l){let r;let n=new Map,a=new IntersectionObserver(t=>{t.forEach(t=>{var l;let a=t.isIntersecting&&r.some(e=>t.intersectionRatio>=e);e.trackVisibility&&void 0===t.isVisible&&(t.isVisible=a),null==(l=n.get(t.target))||l.forEach(e=>{e(a,t)})})},e);r=a.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),l={id:t,observer:a,elements:n},d.set(t,l)}return l}(l),i=s.get(e)||[];return s.has(e)||s.set(e,i),i.push(t),a.observe(e),function(){i.splice(i.indexOf(t),1),0===i.length&&(s.delete(e),a.unobserve(e)),0===s.size&&(a.disconnect(),d.delete(n))}}(this.node,this.handleChange,{threshold:e,root:t,rootMargin:l,trackVisibility:r,delay:n},a)}unobserve(){this._unobserveCb&&(this._unobserveCb(),this._unobserveCb=null)}render(){let{children:e}=this.props;if("function"==typeof e){let{inView:t,entry:l}=this.state;return e({inView:t,entry:l,ref:this.handleNode})}let{as:t,triggerOnce:l,threshold:n,root:a,rootMargin:s,onChange:i,skip:o,trackVisibility:c,delay:d,initialInView:u,fallbackInView:h,...m}=this.props;return r.createElement(t||"div",{ref:this.handleNode,...m},e)}},v=l(99439),f=l(81052),b=l(72180),g=l(16044),y=l(78795);class C extends r.Component{constructor(e){super(e),this.handleIntersection=(e,t)=>{t.isIntersecting?this.setState({modalHeaderIsStuck:!1}):this.setState({modalHeaderIsStuck:!0})},this.handleClose=this.handleClose.bind(this),this.state={modalHeaderIsStuck:!1}}componentDidUpdate(e){let t=this.props;e.isOpen&&!t.isOpen&&this.handleClose()}handleClose(){this.props.onClose&&this.props.onClose()}render(){let{children:e,className:t,willClickOutsideClose:l,closeDataElementId:n,closeTriggerLabel:i,dataViewId:o,footer:c,heading:d,isOpen:u,onClose:h,sandOverlay:m}=this.props,C=a()(t,"o-modal",{"o-modal--with-heading":d}),k=a()("o-modal-header",{"o-modal-header--is-stuck":this.state.modalHeaderIsStuck}),N=!!u&&r.createElement(y.b,{className:"hrt-disp-flex hrt-justify-center hrt-align-center",dataViewId:o,isAnimating:!1,isOpen:u,sandOverlay:m},r.createElement(v.jp,null),r.createElement("div",{className:C,role:"presentation"},r.createElement(s.Y,{...l?{onClickOutside:this.handleClose}:{},onEscapeKey:this.handleClose,scrollLock:!1},r.createElement("div",{className:"o-modal-inner"},(!!h||!!d)&&r.createElement("header",{className:k},!!h&&r.createElement(f.j,{as:"button",buttonLabel:i,className:"o-modal-close-TertiaryIconButton","data-autofocus":!0,"data-element-id":n||"btn_close_modal",onClick:this.handleClose,size:"medium"},r.createElement(b.J,{name:"close",size:"large"})),d&&r.createElement("div",{className:"o-modal-header-inner"},d)),r.createElement("div",{className:"o-modal-content"},r.createElement(p,{onChange:this.handleIntersection,threshold:1},r.createElement("div",null)),e),!!c&&r.createElement("footer",{className:"o-modal-footer"},c)))));return"portal"===this.props.as?r.createElement(g.h,{elementId:"portal"},N):N}}C.defaultProps={as:"portal",willClickOutsideClose:!0}},21415:function(e,t,l){l.d(t,{K:function(){return o}});var r=l(75271),n=l(82187),a=l.n(n),s=l(18364),i=l(82249);let o=(0,r.forwardRef)((e,t)=>{let{className:l,children:n,disabled:o,layout:c="inline",pending:d,pendingAltText:u,size:h="large",variant:m="default",...p}=e,v=(0,r.useRef)(null);(0,r.useImperativeHandle)(t,()=>v.current);let f=a()(l,"hrt-primary-button",`hrt-primary-button--${c}`,`hrt-primary-button--${h}`,`hrt-primary-button--${m}`,{"hrt-primary-button--disabled hrt-base-button--disabled":o,"hrt-primary-button--disabled hrt-base-button--disabled hrt-base-button--pending":d});return r.createElement(i.Y,{className:f,ref:v,..."button"!==p.as&&(o||d)?{"aria-disabled":o||d}:null,...p,..."a"===p.as&&(o||d)?{href:""}:null,disabled:"button"===p.as&&(o||d)},d&&r.createElement(s.x,{altText:u,className:"hrt-position-absolute",color:"default-on-strong"===m?"black":"gray"}),"string"==typeof n?r.createElement("span",null,n):n)});o.displayName="PrimaryButton"},48460:function(e,t,l){l.d(t,{u:function(){return o}});var r=l(75271),n=l(82187),a=l.n(n),s=l(72180),i=l(1664);let o=e=>{let{children:t,className:l,status:n}=e,o=a()(l,"hrt-field-alert",n?`hrt-field-alert--${n}`:"hrt-field-alert--info");return r.createElement("div",{className:o,role:"alert"},(()=>{switch(n){case i.R.ERROR:case i.R.WARNING:return r.createElement(s.J,{className:"hrt-mr-1",name:"alert",size:"small"});case i.R.SUCCESS:return r.createElement(s.J,{className:"hrt-mr-1",name:"check",size:"small"});default:return r.createElement(s.J,{className:"hrt-mr-1",name:"info",size:"small"})}})(),r.createElement("span",{className:"hrt-text-body-sm"},t))}},1664:function(e,t,l){var r,n;l.d(t,{R:function(){return r}}),(n=r||(r={})).ERROR="error",n.SUCCESS="success",n.WARNING="warning"},47465:function(e,t,l){l.d(t,{m:function(){return u}});var r=l(75271),n=l(82187),a=l.n(n),s=l(48460),i=l(1664),o=l(72180);let c=e=>Array.isArray(e)&&e.every(e=>"string"==typeof e),d=(e,t)=>{var l,r;if(null==t)return!1;if(c(t))return t.length>0;if("number"==typeof t||""!==t.trim())return!0;let n=null===(l=null==e?void 0:e.selectedOptions)||void 0===l?void 0:l[0];return(null===(r=null==n?void 0:n.textContent)||void 0===r?void 0:r.trim())!==""},u=(0,r.forwardRef)((e,t)=>{let{className:l,children:n,disabled:c,error:u,helpText:h,id:m,label:p,required:v,...f}=e,b=(0,r.useRef)(null);(0,r.useImperativeHandle)(t,()=>b.current);let[g,y]=(0,r.useState)(()=>{var e,t;return d(b.current,null!==(t=null!==(e=f.value)&&void 0!==e?e:f.defaultValue)&&void 0!==t?t:"")});(0,r.useEffect)(()=>{var e,t;y(d(b.current,null!==(t=null!==(e=f.value)&&void 0!==e?e:f.defaultValue)&&void 0!==t?t:""))},[f.value,f.defaultValue]);let C=a()(l,"hrt-select-field"),k=a()("hrt-select-field-wrapper",{"hrt-select-field-wrapper--disabled":c,"hrt-select-field-wrapper--error":!!u,"hrt-select-field-wrapper--has-value":g});return r.createElement("div",{className:C},r.createElement("div",{className:k,onPointerDown:e=>{var t,l;if(c||"mouse"===e.pointerType&&0!==e.button||(null===(l=null===(t=e.target)||void 0===t?void 0:t.closest)||void 0===l?void 0:l.call(t,".hrt-select-field-select")))return;e.preventDefault();let r=b.current;r&&(r.focus(),"function"==typeof r.showPicker?r.showPicker():setTimeout(()=>{var e;return null===(e=r.click)||void 0===e?void 0:e.call(r)},0))}},r.createElement("div",{className:"hrt-select-field-inner"},r.createElement("select",{"aria-invalid":!!u,className:"hrt-select-field-select",disabled:c,id:m,onChange:e=>{var t;y(d(b.current,e.target.value)),null===(t=f.onChange)||void 0===t||t.call(f,e)},ref:b,...f},n),r.createElement("label",{className:"hrt-select-field-label",htmlFor:m},p,v&&"*")),r.createElement(o.J,{className:"hrt-select-field-icon",name:"chevron-down",size:"default"})),u&&r.createElement(s.u,{className:"hrt-text-field-error",status:i.R.ERROR},u),h&&r.createElement("p",{className:"hrt-text-field-help-text"},h))});u.displayName="SelectField"},39746:function(e,t,l){l.r(t),l.d(t,{LocalePickerModal:function(){return C}});var r=l(52676),n=l(75271),a=l(42588),s=l(50647),i=l(488),o=l(63567),c=l(83955),d=l(69163),u=l(29721),h=l(52135),m=l(21415),p=l(81944),v=l(47465),f=l(93269);let b=e=>{let t=[];return Object.keys(f.Qv).forEach(l=>{f.Qv[l].substr(0,2)===e&&t.push(f.Qv[l].substr(3,2))}),t},g=e=>{let t=[];return Object.keys(f.Qv).forEach(l=>{f.Qv[l].substr(3,2)===e&&t.push(f.Qv[l].substr(0,2))}),t};var y=function(e){let{enableAll:t,onClose:l,handleSubmit:s}=e,i=(0,f.YO)();(0,n.useEffect)(()=>{k()},[t]);let[c,d]=(0,n.useState)(i),[u,h]=(0,n.useState)((0,f.Pw)()),y=(0,a.U$)("locale_picker_language"),C=(0,a.U$)("locale_picker_country"),k=()=>{d(c.map(e=>(e.disabled=!1,e))),h(u.map(e=>(e.disabled=!1,e)))},N=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],l=b(e),r=C.input.value,n=!l.includes(r);if(y.input.onChange(e),c.forEach(e=>{e.disabled=!l.includes(e.value)}),n){let t=u.find(t=>{let{value:l}=t;return l===e});r=t?.defaultCountry??r}t&&E(r,!1)},E=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],l=g(e),r=y.input.value,n=!l.includes(r);if(C.input.onChange(e),u.forEach(e=>{e.disabled=!l.includes(e.value)}),n){let t=c.find(t=>{let{value:l}=t;return l===e});r=t?.defaultLang??r}t&&N(r,!1)};return(0,r.jsxs)("form",{onSubmit:s,role:"form",children:[(0,r.jsx)(a.gN,{name:"locale_picker_language",render:e=>(0,r.jsx)(v.m,{...e.input,className:"hrt-mt-2",id:"m-locale-picker-language",label:(0,o.t)("Select a language"),onChange:e=>{N(e.target.value,!0)},children:u.map(e=>(0,r.jsx)("option",{disabled:e.disabled,value:e.value,children:e.text},e.value))})}),(0,r.jsx)(a.gN,{name:"locale_picker_country",render:e=>(0,r.jsx)(v.m,{...e.input,className:"hrt-mt-2",id:"m-locale-picker-country",label:(0,o.t)("Select a country"),onChange:e=>{E(e.target.value,!0)},children:c.map(e=>(0,r.jsx)("option",{disabled:e.disabled,value:e.value,children:e.text},e.value))})}),(0,r.jsxs)("div",{className:"hrt-mt-7 hrt-disp-flex hrt-justify-end",children:[(0,r.jsx)(p.k,{"aria-label":(0,o.t)("Cancel and close"),as:"button",onClick:l,size:"medium",variant:"default",children:(0,o.t)("Cancel")}),(0,r.jsx)(m.K,{"aria-label":(0,o.t)("Save and close"),as:"button",className:"hrt-ml-2",size:"medium",type:"submit",variant:"default",children:(0,o.t)("Save")})]})]})};function C(e){(0,n.useEffect)(()=>{try{c.mt.getPlatform("Amplitude")}catch(e){console.error("Missing Amplitude - local picker modal")}},[]);let{className:t,countryCode:l,languageCode:m,isOpen:p,onClose:v,onLocaleChange:f}=e,b=(e,t)=>{let l=document.cookie.split(";").reduce((e,t)=>{let[l,r]=t.trim().split("=").map(decodeURIComponent);try{return{...e,[l]:JSON.parse(r)}}catch(t){return{...e,[l]:r}}},{}),r=encodeURIComponent((0,d.C)({locale:e,country:t,cookies:l}));document.cookie=`visitor=${r};domain=${i.config.environment.cookieDomain};path=/`};return(0,r.jsx)(s.x,{as:"portal",className:t,closeTriggerLabel:(0,o.t)("Close dialog"),heading:(0,r.jsxs)("div",{className:"m-locale-picker-modal-heading hrt-mt-2",children:[(0,r.jsx)("h2",{className:"hrt-font-bold hrt-mb-0",children:(0,o.t)("Update your settings")}),(0,r.jsx)("p",{className:"hrt-text-supporting hrt-mb-0",children:(0,o.t)("Set what language you speak and where you live.")})]}),isOpen:p,onClose:v,willClickOutsideClose:!0,children:(0,r.jsx)(a.l0,{initialValues:{locale_picker_language:m,locale_picker_country:l},onSubmit:e=>{let t=e.locale_picker_language.toLowerCase(),l=e.locale_picker_country.toUpperCase(),r=(0,h.BR)(`${t}_${l}`);c.mt.trackEvent({type:"click:language_selector_save",domainName:window.location.host,urlPath:window.location.pathname,locale:r});let n=!!f&&f({language:t,country:l,locale:r});b(r,l),n&&v?v():!n&&(0,u.J8)()&&window.location.reload()},render:e=>{let{handleSubmit:t}=e;return(0,r.jsx)(y,{enableAll:p,handleSubmit:t,onClose:v})}})})}}}]);
//# sourceMappingURL=39746.27e8e6917c25c033.js.map