(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[25615],{7777:function(e,t,n){"use strict";n.d(t,{J:function(){return i.J},c:function(){return r.c}});var i=n(72180),r=n(11871)},93544:function(e,t,n){"use strict";n.d(t,{J:function(){return i.J},j:function(){return r.j}});var i=n(72180),r=n(81052)},97803:function(e,t,n){"use strict";n.d(t,{b:function(){return i.b},h:function(){return r.h}});var i=n(78795),r=n(16044)},48264:function(e,t,n){"use strict";n.d(t,{O:function(){return r.O},P:function(){return i.P}});var i=n(27819),r=n(58832)},861:function(e,t,n){"use strict";n.d(t,{F:function(){return a}});var i=n(57403),r=n(63589);let a=(e,t)=>()=>{let n=[...document.querySelectorAll(t)];return new Promise(0===n.length?(e,n)=>{n(`attachAnimation could not find element(s) matching “${t}”`)}:"#"===t[0]&&n.length>1?(e,n)=>{n(`attachAnimation found multiple elements matching id “${t}”`)}:(a,o)=>{let s=async()=>{n.forEach(t=>t.classList.add(e)),await (0,r.n)([t]),n.forEach(t=>t.classList.remove(e)),a(n)};(0,i.n)(t,e)?o(`cannot animate ${t}. it is already animating with ${e}`):s()})}},36795:function(e,t,n){"use strict";n.d(t,{L:function(){return i}});let i=e=>()=>Promise.all(e.map(e=>e()))},57403:function(e,t,n){"use strict";n.d(t,{n:function(){return i}});let i=(e,t)=>{let n=[...document.querySelectorAll(e)];if(0===n.length)throw Error(`isAnimating could not find element(s) matching "${e}"`);if("#"===e[0]&&n.length>1)throw Error(`isAnimating found multiple elements matching id "${e}"`);return n.every(e=>e.getAnimations().some(e=>t?e instanceof CSSAnimation&&e.animationName.includes(t):e instanceof CSSAnimation))}},11721:function(e,t,n){"use strict";n.d(t,{M:function(){return i}});let i=(e,t)=>{if(0===t.length)throw Error("querySelectors is empty []. what are you waiting for?");let n={animationend:"waitForAnimations",transitionend:"waitForTransitions"}[e];return Promise.all(t.map(t=>{let i=[...document.querySelectorAll(t)];return 0===i.length?new Promise((e,i)=>{i(`${n} could not find element(s) matching “${t}”`)}):"#"===t[0]&&i.length>1?new Promise((e,i)=>{i(`${n} found multiple elements matching id “${t}”`)}):Promise.all(i.map(t=>new Promise(n=>{let i=()=>{t.removeEventListener(e,i),n(t)};t.addEventListener(e,i)})))}))}},63589:function(e,t,n){"use strict";n.d(t,{n:function(){return r}});var i=n(11721);let r=e=>(0,i.M)("animationend",e)},14207:function(e,t,n){"use strict";var i=n(52676),r=n(82187),a=n.n(r),o=n(48264),s=n(6347),l=n(36422),c=n(41928),d=n(56610),u=n.n(d);t.Z=function(e){let{type:t=s.eT.REGULAR,theme:n=s.pe.DARK}=e,r=(0,c.s2)(),d=(0,l.ac)(l.zP.SMALL_ONLY),_=n===s.pe.LIGHT&&(r||d);return(0,i.jsx)("div",{className:u().link,children:(0,i.jsxs)(o.P,{className:a()(u().container,u()[t],u()[n]),layout:_?"inline":"stacked",outline:"transparent",children:[(0,i.jsx)("div",{className:u().imageContainer}),(0,i.jsxs)(o.O,{className:a()(u().mediaCardContent,u().mediaCardContentLoading),children:[(0,i.jsx)("span",{className:a()(u().insightSmall,u().loadingTextBubble),style:{width:80}}),(0,i.jsx)("div",{className:a()(u().title,u().titleLoading,u().loadingTextBubble),style:{width:190}}),n===s.pe.DARK&&(0,i.jsx)("div",{className:a()(u().coAndCategory,u().coAndCategoryLoading)}),(0,i.jsx)("div",{className:a()(u().progressBarContainer,u().progressBarContainerLoading)})]})]})})}},25615:function(e,t,n){"use strict";n.r(t),n.d(t,{AllCollections:function(){return N.qr},CardType:function(){return N.eT},CollectionTheme:function(){return N.pe},Collections:function(){return eV},InformalCollections:function(){return N.Yb}});var i=n(52676),r=n(75271),a=n(20647),o=n(82187),s=n.n(o),l=n(54412),c=n(36130),d=n(50863);let u=Object.freeze({HOME:"home",CAMPAIGN:"campaign",PAGE_NOT_FOUND:"404"}),_={"/home":u.HOME,"/f/[campaignUrl]":u.CAMPAIGN,"/404":u.PAGE_NOT_FOUND},m=e=>{try{return _[e]}catch(n){let t=`This path is not expected to be a part of collections analytics: ${e}`;console.error(t),newrelic?.noticeError(Error(t))}return""},h="mp_page_view",p="mp_page_click",f=Object.freeze({COLLECTIONS:{type:h,viewId:"collections"},COLLECTION:{type:h,viewId:"collection"},LIMITED_DATA_FALLBACK:{type:h,viewId:"collections:limited_data_fallback"},SHOW_MORE:{type:h,viewId:"collections:show_more"},FUNDRAISER_CARD:{type:h,viewId:"collection:fundraiser_card"}}),g=Object.freeze({DROPDOWN:{type:p,viewId:"collections",elementId:"dropdown"},DROPDOWN_ITEM:{type:p,viewId:"collections",elementId:"dropdown_item"},SHOW_MORE:{type:p,viewId:"collections",elementId:"show_more"},ARROW_RIGHT:{type:p,viewId:"collection",elementId:"arrow_right"},ARROW_LEFT:{type:p,viewId:"collection",elementId:"arrow_left"},FUNDRAISER_CARD:{type:p,viewId:"collection",elementId:"fundraiser_card"}});var C=n(5662),N=n(6347),w=n(63567);let x="gfm_collection_type_not_enough_data",y="gfm_collection_type_selected",S="gfm_collection_trending_city_selected",v=()=>({[N.qr.NEARBY]:{name:(0,w.t)("Nearby"),icon:"ios-locator",subtitle:(0,w.t)("Fundraisers in communities you care about")},[N.qr.CLOSE_TO_GOAL]:{name:(0,w.t)("Close to goal"),icon:"target",subtitle:(0,w.t)("Fundraisers within 5% of their goal")},[N.qr.JUST_LAUNCHED]:{name:(0,w.t)("Just launched"),icon:"megaphone",subtitle:(0,w.t)("Fundraisers started in the last two days")},[N.qr.NEEDS_SUPPORT]:{name:(0,w.t)("Needs momentum"),icon:"flash",subtitle:(0,w.t)("Fundraisers that need a little boost")},[N.qr.TRENDING_WORLDWIDE]:{name:(0,w.t)("Happening worldwide"),icon:"growth",subtitle:(0,w.t)("Fundraisers in high donor activity areas")},[N.qr.CHARITY]:{name:(0,w.t)("Charities"),icon:"charity-bank",subtitle:(0,w.t)("Fundraisers for popular charities")}});var R=n(65569);let A=(0,C.cn)((()=>{let e=(0,R.St)(x);return null!==e?JSON.parse(e):[]})()),T=(0,C.cn)(e=>e(A),(e,t,n)=>{let i=[...new Set([...e(A),n])];t(A,i),(0,R.D9)(x,JSON.stringify(i))}),O=(0,C.cn)([]),j=(0,C.cn)(!1),D=(0,C.cn)((0,R.St)(y)||N.qr.NEARBY),I=(0,C.cn)(e=>e(D),(e,t,n)=>{t(D,n),(0,R.D9)(y,n),t(L,"")}),E=(0,C.cn)((0,R.St)(S)||""),L=(0,C.cn)(e=>e(E),(e,t,n)=>{t(E,n),(0,R.D9)(S,n)}),b=(0,C.cn)(0),k=(0,C.cn)(0);var M=n(65690),P=n(37506),K=n.n(P),U=function(e){let{alt:t="",fundraiserPhoto:n}=e;return(0,i.jsx)("img",{alt:(0,M.Ch)(t),className:K().image,src:(0,M.Ch)(n?.scaled?.sixteenByNine270||"")})},B=n(75337),F=n(63098),q=n.n(F),G=function(e){let{theme:t=N.pe.LIGHT}=e;return(0,i.jsxs)("div",{className:s()(q().error,q()[t]),children:[(0,i.jsx)(B.J,{name:"alert",size:"default"}),(0,i.jsx)(w.cC,{children:(0,i.jsxs)("span",{children:["An error occurred. Please wait a moment and refresh the page or visit ",(0,i.jsx)(B.r,{href:"/s",children:"Search"})," ","to explore other fundraisers."]})})]})},H=n(37469);let W=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{data:n,error:i,loading:a}=(0,H.dWH)({variables:{codes:[e]},...t}),o=(0,r.useMemo)(()=>n?.collections[0]?.fundraisers||[],[n?.collections?.[0]?.fundraisers?.length,a,e]);return{error:i,loading:a,fundraisers:o}},z=(e,t,n)=>{let{data:i,error:a,loading:o}=(0,H.iBd)({variables:{slug:e,codes:[t]},...n});return{error:a,loading:o,fundraisers:(0,r.useMemo)(()=>i?.fundraiser?.collections[0]?.fundraisers||[],[i])}},Y=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{data:t,error:n,loading:i}=(0,H.Tgr)(e);return{error:n,loading:i,fundraisers:(0,r.useMemo)(()=>t?.nearbyFundraisers?.fundraisers||[],[t])}},J=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,{data:n,error:i,loading:a}=(0,H.zkv)({...e,variables:{numberOfCities:t}});return{error:i,loading:a,trendingCities:(0,r.useMemo)(()=>n?.trendingCities||[],[n])}},V=(e,t)=>{let{data:n,error:i,loading:a}=(0,H.lmO)({...t,variables:{city:e}});return{error:i,loading:a,fundraisers:(0,r.useMemo)(()=>n?.trendingCity?.fundraisers||[],[n])}};var $=n(36795),Z=n(861),Q=n(38673),X=n.n(Q);let ee=e=>{let[t,n]=(0,r.useReducer)(()=>!1,!0),[i]=(0,l.KO)(O),[a,o]=(0,r.useState)([,,,,,].fill(void 0)),[s]=(0,l.KO)(b),c=(0,r.useRef)(Math.floor(5*Math.random()));return(0,r.useEffect)(()=>{if(!e)return;t&&n();let r=i.slice(0,5),a=i.slice(5),l=[r[c.current],...r.filter((e,t)=>t!==c.current)],d=[a[c.current],...a.filter((e,t)=>t!==c.current)];if(!t){(0,$.L)([(0,Z.F)(X().phaseShift,"#featuredCard"),(0,Z.F)(X().phaseShiftCol2,".featuredCol2"),(0,Z.F)(X().phaseShiftCol3,".featuredCol3")])();let e=1===s?[d[0],l[1],l[2],l[3],l[4]]:[l[0],d[1],d[2],d[3],d[4]],t=1===s?[d[0],d[1],l[2],d[3],l[4]]:[l[0],l[1],d[2],l[3],d[4]],n=1===s?d:l,i=setTimeout(()=>o(e),289.8),r=setTimeout(()=>o(t),373.8),a=setTimeout(()=>o(n),457.8);return()=>{clearTimeout(i),clearTimeout(r),clearTimeout(a)}}o(l)},[e,i,s]),[a]};var et=n(69166),en=n(83955),ei=function(e){let[t]=(0,l.KO)(I),n=(0,a.useRouter)(),{ref:o,inView:s}=(0,d.YD)({triggerOnce:!0});return(0,r.useEffect)(()=>{s&&en.mt.push({...f.SHOW_MORE,userPath:m(n.pathname),collectionType:t})},[s]),(0,i.jsx)(et.k,{ref:o,...e,children:(0,w.t)("Show more")})},er=n(93269),ea=n(45798),eo=n(36422),es=n(75279),el=n(83314),ec=n.n(el),ed=n(42133),eu=n(91277),e_=n(27819),em=n(58832),eh=n(87222),ep=n(52135),ef=n(99447),eg=n(26827),eC=n(14207),eN=n(56610),ew=n.n(eN);function ex(e){let{fundraiser:t,theme:n=N.pe.DARK,type:o=N.eT.REGULAR,...c}=e,[u]=(0,l.KO)(I),[_]=(0,l.KO)(L),h=(0,r.useMemo)(()=>u,[t]),p=(0,r.useMemo)(()=>_,[t]),C=(0,a.useRouter)(),{locale:x}=(0,ea.bN)(),y=(0,eo.ac)(eo.zP.SMALL_ONLY),{latitude:S,longitude:v}=(0,eo.MV)(),{ref:R,inView:A}=(0,d.YD)({triggerOnce:!0}),{categoryId:T,charity:O,currentAmount:j,title:D,fundraiserPhoto:E,goalAmount:b,organizer:k,url:M}=t,P=n===N.pe.LIGHT&&y,K=S&&v?{latitude:Number(S),longitude:Number(v)}:void 0,B=new ef.Pj((0,ep.BR)(x)),F=(0,eg.RK)()[T],q=function(e){var t;let{categoryName:n,collectionType:i,fundraiser:r,locale:a,selectedTrendingCity:o,userCoordinates:s}=e,{createdAt:l,currentAmount:c,donationCount:d,goalAmount:u}=r,_=u.amount-c.amount,m=new ef.Pj((0,ep.BR)(a)),h=!a.includes("_US")&&!a.includes("_GB"),p=s?function(e,t,n,i){let r=!(arguments.length>4)||void 0===arguments[4]||arguments[4],a=e*Math.PI/180,o=n*Math.PI/180,s=o-a,l=i*Math.PI/180-t*Math.PI/180,c=Math.sin(s/2)*Math.sin(s/2)+Math.cos(a)*Math.cos(o)*Math.sin(l/2)*Math.sin(l/2),d=2*Math.atan2(Math.sqrt(c),Math.sqrt(1-c));return Math.round(r?6371*d:6371*d*.621371)}(Number(s.latitude),Number(s.longitude),r.location?.coordinates?.latitude||0,r.location?.coordinates?.longitude||0,h):void 0,f=(0,w.t)("{{donationFullCount}} donations",{donationFullCount:m.formatWithAbbrev(d,!0,1)}),g="support-food-bank-for-new-york-city"===(t=r.url)?(0,w.t)("Community"):"support-the-v-foundation-and-cancer-research"===t?(0,w.t)("Medical"):"end-suicide-among-lgbtq-young-people"===t?(0,w.t)("Social Action"):void 0;if(o)return f;switch(i){case N.qr.CLOSE_TO_GOAL:if(_<=0)return(0,w.t)("Just hit goal!");return _>100?(0,w.t)("{{goalProgress}}% funded",{goalProgress:Math.round(c.amount/u.amount*100)}):(0,w.t)("{{amount}} to goal",{amount:m.formatAsCurrency(Number(_),{currency:u.currencyCode})});case N.qr.NEEDS_SUPPORT:case N.qr.TRENDING_WORLDWIDE:return f;case N.qr.JUST_LAUNCHED:return(0,eh.BK)({addSuffix:!0,locale:a})(new Date(l));case N.qr.NEARBY:return p&&p<100?h?(0,w.t)("{{count}} km away",{count:p,defaultValue_plural:"{{count}} kms away"}):(0,w.t)("{{count}} mile away",{count:p,defaultValue_plural:"{{count}} miles away"}):r.location?.city||"";case N.qr.CHARITY:return g||n||"";default:return""}}({categoryName:F?.name,collectionType:h,fundraiser:t,locale:x,selectedTrendingCity:p,userCoordinates:K});return(0,r.useEffect)(()=>{A&&t&&en.mt.push({...f.FUNDRAISER_CARD,userPath:m(C.pathname),fundUrl:t.url})},[A,t]),(0,i.jsx)(ec(),{className:ew().link,href:`/f/${M}`,onClick:()=>{en.mt.push({...g.FUNDRAISER_CARD,userPath:m(C.pathname),collectionType:h,fundUrl:t.url})},ref:R,...c,children:(0,i.jsxs)(e_.P,{className:s()(ew().container,ew()[o],ew()[n]),layout:P?"inline":"stacked",outline:"transparent",children:[(0,i.jsxs)("div",{className:ew().imageContainer,children:[(0,i.jsx)(U,{alt:D,fundraiserPhoto:E}),(0,i.jsx)("span",{className:ew().insight,children:q})]}),(0,i.jsxs)(em.O,{className:ew().mediaCardContent,children:[(0,i.jsx)("span",{className:ew().insightSmall,children:q}),(0,i.jsx)("div",{className:ew().title,children:D}),n===N.pe.DARK&&(0,i.jsx)("div",{className:ew().coAndCategory,children:(0,i.jsxs)("div",{className:s()("hrt-disp-flex","hrt-align-center"),children:[(0,i.jsx)(ed.q,{className:ew().imageAvatar,fallbackKind:"default",kind:"image",size:"small",src:k.profileUrl??""})," ",(0,i.jsx)("div",{className:ew().truncate,children:h===H.ylh.CHARITY?"right-now-an-animal-like-esmerelda-needs-you"===M?(0,w.t)("for {{charity}}",{charity:"PAWS"}):O?(0,w.t)("for {{charity}}",{charity:O?.name,interpolation:{escapeValue:!1}}):"":F?(0,w.t)("by {{co}} for {{category}}",{co:k.firstName,category:F.name,interpolation:{escapeValue:!1}}):(0,w.t)("by {{co}}",{co:k.firstName,interpolation:{escapeValue:!1}})})]})}),(0,i.jsx)("div",{className:ew().progressBarContainer,children:(0,i.jsx)(eu.z,{className:ew().progressBar,label:(0,w.t)("{{amount}} raised",{amount:B.formatAsCurrency(j.amount,{currency:j.currencyCode})}),progress:j.amount/b.amount*100,variant:n===N.pe.DARK?"light":"default"})})]})]})})}var ey=function(e){let{fundraiser:t,theme:n=N.pe.DARK,type:r=N.eT.REGULAR,...a}=e;return t?(0,i.jsx)(ex,{fundraiser:t,theme:n,type:r,...a}):(0,i.jsx)(eC.Z,{theme:n,type:r})},eS=n(411),ev=n(70267),eR=n(42605),eA=n(93544),eT=n(83114),eO=n(41928),ej=n(5367),eD=n.n(ej),eI=function(e){let{floating:t,onClose:n,setFloating:o}=e,c=(0,eO.s2)(),{countryCode:d}=(0,ea.bN)(),u=(0,r.useRef)(null),[_,h]=(0,l.KO)(I),[p]=(0,l.KO)(T),[,f]=(0,l.KO)(L),C=d===er.Ec.UNITED_STATES,{trendingCities:x}=J({skip:!C}),y=(0,eT.V)(n),S=()=>c?y():n(),R=(0,a.useRouter)();(0,r.useEffect)(()=>{t?.current&&u?.current&&(t.current.style.height=`${u.current.clientHeight-45}px`)},[p]);let[A,O]=(0,r.useState)(),[j,D]=(0,r.useState)(),E=(0,i.jsxs)("div",{className:eD().body,"data-tracking-namespace":"discover component",ref:D,children:[(0,i.jsx)("ul",{className:eD().collectionsContainer,ref:u,children:Object.entries(v()).filter(e=>{let[t]=e;return!p.includes(t)}).map(e=>{let[t,n]=e;return(0,i.jsxs)("li",{className:eD().collection,"data-tracking-id":t.replace(/_/g," ").toLowerCase(),onClick:()=>{en.mt.push({...g.DROPDOWN_ITEM,userPath:m(R.pathname),collectionType:_,newlySelectedCollectionType:t}),h(t),f(""),S()},tabIndex:0,children:[(0,i.jsx)(eA.J,{className:eD().icon,name:n.icon,size:"default"}),(0,i.jsxs)("div",{className:eD().collectionText,children:[(0,i.jsx)("div",{className:eD().name,children:n.name}),(0,i.jsx)("div",{className:eD().subtitle,children:n.subtitle})]})]},t)})}),C&&(0,i.jsxs)("div",{className:eD().USCities,children:[(0,i.jsxs)("div",{className:eD().USCitiesHeader,children:[(0,i.jsx)("div",{className:eD().name,children:(0,w.t)("US cities")}),(0,i.jsx)("div",{className:eD().subtitle,children:(0,w.t)("Areas in the United States with the most recent activity")})]}),(0,i.jsx)("ul",{className:eD().trendingCities,children:x.map((e,t)=>(0,i.jsxs)("li",{className:eD().trendingCity,onClick:()=>{en.mt.push({...g.DROPDOWN_ITEM,userPath:m(R.pathname),collectionType:_,newlySelectedCollectionType:N.qr.TRENDING_CITY}),h(""),f(e.name||""),S()},tabIndex:0,children:[(0,i.jsx)(eA.J,{className:eD().locationIcon,name:"location",size:"small"}),(0,i.jsx)("div",{className:eD().name,children:e?.name})]},t))})]})]}),[b,k]=(0,r.useState)(56);return(0,r.useEffect)(()=>{if(C){k(56);return}let e=A?.getBoundingClientRect()?.height,t=j?.getBoundingClientRect()?.height;k(e&&t&&e+t<window.innerHeight?window.innerHeight-(e+t):56)},[A,j]),c?(0,i.jsxs)(eT.y,{onClose:y,top:b,children:[(0,i.jsxs)("div",{className:s()(eD().name,eD().header),ref:O,children:[(0,w.t)("Filter by"),(0,i.jsx)(eA.j,{as:"button",buttonLabel:(0,w.t)("Close selector"),className:eD().close,"data-tracking-id":"discover component: close filter",onClick:y,size:"large",children:(0,i.jsx)(eA.J,{name:"close",size:"default"})})]}),E]}):(0,i.jsx)("div",{className:eD().popper,onClick:n,ref:o,children:(0,i.jsx)(eR.Y,{onClickOutside:n,onEscapeKey:n,scrollLock:!1,children:E})})},eE=n(62339),eL=n.n(eE),eb=function(e){let{theme:t}=e,[n,r]=(0,l.KO)(j),[o]=(0,l.KO)(I),[c]=(0,l.KO)(L),d=(0,a.useRouter)(),{refs:u}=(0,eS.YF)();return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(ev.k,{as:"button",className:eL().button,"data-tracking-id":"open filter",onClick:()=>{en.mt.push({...g.DROPDOWN,userPath:m(d.pathname)}),r(!n)},ref:u.setReference,size:"medium",variant:"light"===t?"default":"default-on-strong",children:[c||v()[o].name,(0,i.jsx)(ev.J,{className:s()(eL().arrow,{[eL().rotate]:n}),name:"chevron-down",size:"default"})]}),n&&(0,i.jsx)(eI,{floating:u.floating,onClose:()=>r(!1),setFloating:u.setFloating})]})},ek=n(7777),eM=n(11721);let eP=e=>(0,eM.M)("transitionend",e);var eK=n(57403);let eU=e=>{let t=[...document.querySelectorAll(e)];if(0===t.length)throw Error(`isTransitioning could not find element(s) matching "${e}"`);if("#"===e[0]&&t.length>1)throw Error(`isTransitioning found multiple elements matching id "${e}"`);return t.every(e=>e.getAnimations().some(e=>e instanceof CSSTransition))};var eB=n(31331),eF=n.n(eB),eq=function(e){let{theme:t}=e,[n,o]=(0,r.useState)(!0),[,c]=(0,l.KO)(b),[d]=(0,l.KO)(I),[u]=(0,l.KO)(O),_=document.querySelector("#darkThemeCarousel"),[h,p]=(0,l.KO)(k),f=(0,a.useRouter)();(0,r.useEffect)(()=>{(async()=>{o(!0),t===N.pe.LIGHT&&c(0),t===N.pe.DARK&&_&&(_.style.transition="none",p(u.length),await eP(["#darkThemeCarousel"]),_.style.transition="transform 500ms")})()},[d]);let C=()=>(0,eK.n)("#featuredCard")||(0,eK.n)(".featuredCol2")||(0,eK.n)(".featuredCol3"),w=async()=>{let e=()=>en.mt.push({...g.ARROW_LEFT,userPath:m(f.pathname),collectionType:d});if(t===N.pe.LIGHT){if(C())return;e(),c(e=>1===e?0:1)}if(t===N.pe.DARK){if(!_||eU("#darkThemeCarousel"))return;e(),_.style.transition="transform 500ms";let t=h-1;p(t),0===t&&(await eP(["#darkThemeCarousel"]),_.style.transition="none",p(u.length))}},x=async()=>{let e=()=>en.mt.push({...g.ARROW_RIGHT,userPath:m(f.pathname),collectionType:d});if(n&&o(!1),t===N.pe.LIGHT){if(C())return;e(),c(e=>0===e?1:0)}if(t===N.pe.DARK){if(!_||eU("#darkThemeCarousel"))return;e(),_.style.transition="transform 500ms",p(h+1),h===2*u.length-1&&(await eP(["#darkThemeCarousel"]),_.style.transition="none",p(u.length))}};return(0,i.jsxs)("div",{className:s()(eF().navigation,eF()[t]),children:[(0,i.jsx)(ek.c,{as:"button",buttonLabel:"Back",circle:!0,className:s()({[eF().disabled]:n}),"data-tracking-id":"previous",disabled:n,onClick:w,size:"small",children:(0,i.jsx)(ek.J,{name:"arrow-left",size:"small"})}),(0,i.jsx)(ek.c,{as:"button",buttonLabel:"Forward",circle:!0,"data-tracking-id":"next",onClick:x,size:"small",children:(0,i.jsx)(ek.J,{name:"arrow-right",size:"small"})})]})},eG=n(65918),eH=n.n(eG),eW=function(e){let{displayNavigation:t=!0,theme:n}=e;return(0,i.jsxs)("div",{className:eH().container,children:[(0,i.jsx)(eb,{theme:n}),t&&(0,i.jsx)(eq,{theme:n})]})},ez=n(44867),eY=n.n(ez);function eJ(e){let{children:t,className:n,contentClassName:o,initialCollectionType:c,introText:u,setDisplayCount:_,shouldStartDataFetch:h=!0,theme:p=N.pe.LIGHT}=e,C=p===N.pe.LIGHT?5:4,w=Array(C).fill(void 0),{countryCodeFromIP:x}=(0,ea.bN)(),y=!x||Object.values(er.Ec).includes(x),{hasMounted:S}=(0,es.s)(),{ref:v,inView:R}=(0,d.YD)({triggerOnce:!0}),A=(0,a.useRouter)(),{campaignUrl:j}=A.query;(0,r.useEffect)(()=>{R&&en.mt.push({...f.COLLECTIONS,userPath:m(A.pathname)})},[R]);let[,D]=(0,l.KO)(T),[E,b]=(0,l.KO)(I),[M,P]=(0,l.KO)(O),[K]=(0,l.KO)(L),[B,F]=(0,r.useReducer)(()=>!0,!1),[q,H]=(0,l.KO)(k),[J,$]=(0,r.useState)([...M,...M,...M]);(0,r.useEffect)(()=>{p!==N.pe.LIGHT&&($([...M,...M,...M]),H(M.length))},[M]);let Z=!h&&!R,Q=""===K||Z,X=E!==N.qr.NEARBY||!y||Z,et=!(p===N.pe.DARK&&E!==N.qr.TRENDING_WORLDWIDE&&E!==N.qr.CHARITY)||Z,el=""!==K||E===N.qr.NEARBY||p===N.pe.DARK&&E!==N.qr.TRENDING_WORLDWIDE&&E!==N.qr.CHARITY||Z,ec=V(K,{ssr:!1,skip:Q}),ed=Y({ssr:!1,skip:X}),eu=z(`${j}`,E,{ssr:!1,skip:et}),e_=W(E,{ssr:!1,skip:el}),{error:em,fundraisers:eh,loading:ep}=""!==K?ec:E===N.qr.NEARBY?ed:p===N.pe.DARK&&E!==N.qr.TRENDING_WORLDWIDE&&E!==N.qr.CHARITY?eu:e_,ef=j?eh.filter(e=>e.url!==j):eh,{error:eg,fundraisers:eC,loading:eN}=W(N.qr.TRENDING_WORLDWIDE,{ssr:!1,skip:Z}),ex=ep&&(y||E!==N.qr.NEARBY)||eN,eS=em&&eg;(0,r.useEffect)(()=>{if(ex||Z){P(w);return}let e=ef.length>=C||E===N.qr.TRENDING_WORLDWIDE;K?(P(ef),en.mt.push({...f.COLLECTION,userPath:m(A.pathname),collectionType:N.qr.TRENDING_CITY})):e?(P(ef),en.mt.push({...f.COLLECTION,userPath:m(A.pathname),collectionType:E})):(en.mt.push({...f.LIMITED_DATA_FALLBACK,userPath:m(A.pathname)}),P(eC),b(c||N.qr.TRENDING_WORLDWIDE),D(E)),_?.(M.length)},[ex,E,ef.length,eC.length,K,C,Z]);let ev=(0,eo.ac)(eo.zP.SMALL_ONLY),eR=p===N.pe.LIGHT&&!ev,[eA]=ee(eR);return S?(0,i.jsxs)("div",{className:s()(eY()[p],n),"data-tracking-namespace":"discover component",ref:v,children:[eR&&(0,i.jsx)("div",{className:ew().imageContainer,style:{display:"none"},children:M.length>5&&M.every(e=>e?.fundraiserPhoto)&&M.map((e,t)=>(0,i.jsx)(U,{alt:e?.title||"",fundraiserPhoto:e?.fundraiserPhoto},t))}),(0,i.jsxs)("div",{className:s()({"hrt-container":!ev&&p===N.pe.DARK},eY().container),children:[t||(u?(0,i.jsx)("h2",{className:eY().introText,children:u}):null),(0,i.jsxs)("div",{className:o,children:[(0,i.jsx)(eW,{displayNavigation:!eS&&M.length>5,theme:p}),eS?(0,i.jsx)(G,{theme:p}):(0,i.jsxs)(i.Fragment,{children:[p===N.pe.DARK&&(0,i.jsx)("div",{className:eY().stage,children:(0,i.jsx)("ul",{className:s()(eY().cardsContainer,{[eY().showAllCards]:B||!ev}),id:"darkThemeCarousel",style:ev?{}:{transform:`translateX(${-290*q}px)`,width:290*J.length},children:(ev?M:J).map((e,t)=>(0,i.jsx)("li",{style:ev?{}:{width:266},children:(0,i.jsx)(ey,{fundraiser:e,theme:p,...!ev&&p===N.pe.DARK&&{tabIndex:t>=q&&t<=q+3?0:-1}})},t))})}),p===N.pe.LIGHT&&(0,i.jsxs)("ul",{className:s()(eY().cardsContainer,{[eY().showAllCards]:B}),children:[eR&&(0,i.jsx)("li",{id:"featuredCard",children:(0,i.jsx)(ey,{fundraiser:eA[0],theme:p,type:N.eT.FEATURED})}),(0,i.jsx)("li",{children:(0,i.jsx)("ul",{className:eY().featuredRightList,id:"featuredRightList",children:[...eR?eA.slice(1):M].map((e,t)=>(0,i.jsx)("li",{className:s()({featuredCol2:eR&&t%2==0,featuredCol3:eR&&t%2==1}),children:(0,i.jsx)(ey,{fundraiser:e,theme:p})},t))})})]}),ev&&!B&&(0,i.jsx)(ei,{as:"button",className:eY().showMoreButton,onClick:()=>{en.mt.push({...g.SHOW_MORE,userPath:m(A.pathname),collectionType:E}),F()},variant:p===N.pe.DARK?"default-on-strong":"default"})]})]})]})]}):null}var eV=function(e){return(0,i.jsx)(c.ErrorBoundary,{FallbackComponent:()=>(0,i.jsx)(i.Fragment,{}),onError:e=>{window?.newrelic?.noticeError?.(e)},children:(0,i.jsx)(eJ,{...e})})}},83114:function(e,t,n){"use strict";n.d(t,{y:function(){return g},V:function(){return y}});var i=n(52676),r=n(75271),a=n(82187),o=n.n(a),s=n(5662),l=n(54412),c=n(42605),d=n(97803),u=n(65690),_=n(43070),m=n.n(_),h=n(65182),p=n.n(h);let f=(0,s.cn)("up");var g=function(e){let{children:t,dataElementId:n="",top:a,right:s,bottom:_,left:h,onClose:g}=e,C=[a,s,_,h].filter(e=>void 0!==e);if(0===C.length||C.length>1)throw Error("please include exactly 1 of the following props: top, right, bottom, left");let N=["up","right","down","left"][[a,s,_,h].findIndex(e=>void 0!==e)],w="up"===N||"down"===N,[,x]=(0,l.KO)(f);x(N);let y=()=>window.innerHeight-(({up:a,down:_,left:0,right:0})[N]||0),S=()=>window.innerWidth-(({left:h,right:s,up:0,down:0})[N]||0),[v,R]=(0,r.useState)(y()),[A,T]=(0,r.useState)(S());return(0,r.useEffect)(()=>{let e=()=>{R(y()),w&&T(S())};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,i.jsxs)(d.h,{elementId:"portal",children:[(0,i.jsx)(d.b,{className:o()("sheetOverlay",m().fadeIn),isAnimating:!1,isOpen:!0}),(0,i.jsx)("div",{className:p().outer,style:{...{up:{marginTop:a},down:{marginBottom:_},left:{marginLeft:h},right:{marginRight:s}}[N],height:v,width:A},children:(0,i.jsx)(c.Y,{onClickOutside:g,onEscapeKey:g,scrollLock:!0,children:(0,i.jsx)("div",{className:o()(p().container,p()[`container-openSlide${(0,u.kC)(N)}Borders`],{up:m().openSlideUp,down:m().openSlideDown,left:m().openSlideLeft,right:m().openSlideRight}[N]),"data-element-id":n,id:"sheetContainer",style:{height:v,width:A},children:t})})})]})},C=n(57403),N=n(63589),w=n(861),x=n(36795);let y=e=>{let[t]=(0,l.KO)(f),[n,i]=(0,r.useState)(!0),a=".sheetOverlay",o="#sheetContainer",s=(0,r.useCallback)(async()=>{let e=(0,C.n)(a,m().fadeIn),n=(0,C.n)(o,{up:m().openSlideUp,down:m().openSlideDown,left:m().openSlideLeft,right:m().openSlideRight}[t]);i(e||n),(e||n)&&(await (0,N.n)([a,o]),i(!1))},[t]),c=(0,w.F)(m().fadeOut,a),d=(0,w.F)({up:m().closeSlideDown,down:m().closeSlideUp,left:m().closeSlideRight,right:m().closeSlideLeft}[t],o),u=(0,x.L)([c,d]);return(0,r.useEffect)(()=>{let t=async()=>{await u(),e()};n||t()},[n]),s}},38673:function(e){e.exports={phaseShift:"animations_phaseShift__iiY_T",phaseShiftCol2:"animations_phaseShiftCol2__sMscW",phaseShiftCol3:"animations_phaseShiftCol3__hzHD_"}},37506:function(e){e.exports={image:"card-image_image___GL8n"}},56610:function(e){e.exports={container:"card_container__TjAss",imageContainer:"card_imageContainer__2RJ99",fadeIn:"card_fadeIn__XxS5o",mediaCardContent:"card_mediaCardContent__GzKdX",imageAvatar:"card_imageAvatar__kKQeQ",insight:"card_insight__o2NTc",insightSmall:"card_insightSmall__m8Rnl",link:"card_link__KbsfM",title:"card_title__NZDLT",coAndCategory:"card_coAndCategory___u9wR",progressBarContainer:"card_progressBarContainer__nl1hO",progressBar:"card_progressBar__guAuz",flexSpaced:"card_flexSpaced__rdiCG",truncate:"card_truncate__BPmA_",featured:"card_featured__nfenF",regular:"card_regular__OKZ2g",light:"card_light__V5idw",mediaCardContentLoading:"card_mediaCardContentLoading__Og2jq",loadingTextBubble:"card_loadingTextBubble__nMao1",progressBarContainerLoading:"card_progressBarContainerLoading__AeIkz",dark:"card_dark__l2p4w",progressData:"card_progressData__kXM7x",coAndCategoryLoading:"card_coAndCategoryLoading__GZy_C",titleLoading:"card_titleLoading__cGmE6",fadeOut:"card_fadeOut__NctDv",fadeInAndUp:"card_fadeInAndUp__35MLY",fadeOutAndUp:"card_fadeOutAndUp__q9AD1",bloop:"card_bloop__8EdWM",clockwiseSpin:"card_clockwiseSpin__VaLhc",counterClockwiseSpin:"card_counterClockwiseSpin__FJdbZ",snakeChase:"card_snakeChase__Oy_2v",scaleUp:"card_scaleUp__NDWBK",scaleDown:"card_scaleDown__ZP5zV"}},44867:function(e){e.exports={introText:"collections_introText__CXqBN",container:"collections_container__KVJc_",header:"collections_header__Ni667",cardsContainer:"collections_cardsContainer__xPYeF",showMoreButton:"collections_showMoreButton__a4FoM",dark:"collections_dark__sh9ba",showAllCards:"collections_showAllCards__3s6hL",light:"collections_light__O6Zbe",featuredRightList:"collections_featuredRightList__2lwN0",popper:"collections_popper__7R3dA",stage:"collections_stage__tS4Qh"}},63098:function(e){e.exports={error:"error_error__r5dDq",dark:"error_dark__2TiVM",light:"error_light__KGFBI"}},62339:function(e){e.exports={button:"collection-selector_button__zBhnx",arrow:"collection-selector_arrow__EXuuD",rotate:"collection-selector_rotate__ovZMg"}},31331:function(e){e.exports={navigation:"navigation_navigation__G5zeD",light:"navigation_light__B7ltl",disabled:"navigation_disabled__Q_dQh",dark:"navigation_dark__2Yx_Z"}},65918:function(e){e.exports={container:"selector-header_container__k4kmu"}},5367:function(e){e.exports={header:"selector-modal_header__RSJ_n",close:"selector-modal_close__KUC8c",body:"selector-modal_body__8lwM0",collectionsContainer:"selector-modal_collectionsContainer__ttJ92",collection:"selector-modal_collection__KcqFT",icon:"selector-modal_icon__7BHMS",collectionText:"selector-modal_collectionText__T0pMJ",name:"selector-modal_name__P93MR",subtitle:"selector-modal_subtitle__tzJtU",USCitiesHeader:"selector-modal_USCitiesHeader__SU2gf",USCities:"selector-modal_USCities__3bhF7",trendingCities:"selector-modal_trendingCities__IUp_0",trendingCity:"selector-modal_trendingCity__TQlB_",locationIcon:"selector-modal_locationIcon__IIzp_",popper:"selector-modal_popper__8kVJw",popperHidden:"selector-modal_popperHidden__tvNNB",popperVisible:"selector-modal_popperVisible__JFmXi"}},43070:function(e){e.exports={fadeIn:"animations_fadeIn__KHaJn",fadeOut:"animations_fadeOut__SwhlK",openSlideUp:"animations_openSlideUp__Zoz8G",closeSlideDown:"animations_closeSlideDown__Gsswv",openSlideDown:"animations_openSlideDown__128Ei",closeSlideUp:"animations_closeSlideUp__3V1cT",openSlideLeft:"animations_openSlideLeft__s8Z_N",closeSlideRight:"animations_closeSlideRight___evjz",openSlideRight:"animations_openSlideRight__c_Fcb",closeSlideLeft:"animations_closeSlideLeft__jkVcM",fadeInAndUp:"animations_fadeInAndUp__N5aGe",fadeOutAndUp:"animations_fadeOutAndUp__0DKUN",bloop:"animations_bloop__D6TO5",clockwiseSpin:"animations_clockwiseSpin___v3Po",counterClockwiseSpin:"animations_counterClockwiseSpin__VH2fM",snakeChase:"animations_snakeChase__guaIb",scaleUp:"animations_scaleUp__eK5kz",scaleDown:"animations_scaleDown__1YjCJ"}},65182:function(e){e.exports={outer:"sheet_outer__4T3oF",container:"sheet_container__Oh1Kx","container-openSlideUpBorders":"sheet_container-openSlideUpBorders__q5UzQ","container-openSlideDownBorders":"sheet_container-openSlideDownBorders__PKOya","container-openSlideLeftBorders":"sheet_container-openSlideLeftBorders__SHTWN","container-openSlideRightBorders":"sheet_container-openSlideRightBorders__b1P28"}}}]);
//# sourceMappingURL=25615-7e91f33b9570ac3e.js.map